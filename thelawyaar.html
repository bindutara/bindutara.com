<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Lawyaar · Case Merit Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-900">
  <div class="min-h-screen w-full p-6 md:p-10">
    <div class="max-w-5xl mx-auto space-y-6">
      <header class="flex items-center justify-between">
        <h1 class="text-2xl md:text-3xl font-bold">The Lawyaar · Case Merit Calculator</h1>
        <div class="text-sm opacity-70">v1.1 · heuristic (not legal advice)</div>
      </header>

      <!-- Case Type -->
      <section class="grid md:grid-cols-3 gap-4 items-end">
        <div class="md:col-span-2">
          <label class="block text-sm font-medium mb-1">Case Type</label>
          <select id="caseType" class="w-full rounded-xl border p-3 shadow-sm bg-white"></select>
        </div>

        <button onclick="calculateMerit()" class="rounded-2xl px-5 py-3 bg-black text-white shadow hover:shadow-md transition">
          Calculate Merit
        </button>
      </section>

      <section class="grid md:grid-cols-2 gap-6">
        <!-- Inputs -->
        <div class="space-y-4">
          <h2 class="text-lg font-semibold">Inputs</h2>
          <div id="questions" class="space-y-3"></div>
          <div class="flex gap-2">
            <button onclick="resetForm()" class="rounded-xl px-4 py-2 border bg-white shadow-sm">
              Reset
            </button>
            <button onclick="calculateMerit()" class="rounded-xl px-4 py-2 bg-black text-white shadow">
              Calculate
            </button>
          </div>
        </div>

        <!-- Results -->
        <div class="space-y-4">
          <h2 class="text-lg font-semibold">Results</h2>
          <div class="p-5 rounded-2xl bg-white border shadow-sm">
            <div class="text-sm mb-1 opacity-70">Merit Score</div>
            <div id="meritScore" class="text-4xl font-bold">—%</div>
            <div class="mt-3 text-sm">
              <strong>Expected Duration:</strong> <span id="duration">—</span>
            </div>
            <div class="mt-1 text-sm">
              <strong>Estimated Legal Costs:</strong> <span id="costs">—</span>
            </div>
          </div>

          <div class="p-5 rounded-2xl bg-white border shadow-sm">
            <div class="text-sm font-semibold mb-2">Key Risks</div>
            <ul id="risks" class="list-disc pl-5 space-y-1 text-sm text-gray-700"></ul>
          </div>

          <div class="p-5 rounded-2xl bg-white border shadow-sm">
            <div class="text-sm font-semibold mb-2">Suggestions</div>
            <ul id="suggestions" class="list-disc pl-5 space-y-1 text-sm text-gray-700"></ul>
          </div>

          <div class="text-xs text-gray-500">
            *This tool provides a heuristic score based on user inputs and common legal factors.  
            It is not legal advice. Final strategy and filing decisions must be reviewed by a licensed advocate with full documents.
          </div>
        </div>
      </section>

      <footer class="pt-4 border-t text-xs text-gray-500">
        © <span id="year"></span> The Lawyaar · Case Merit Calculator
      </footer>
    </div>
  </div>

 <script>
// ---------------- SUGGESTIONS MAP ---------------- //
const SUGGESTION_MAP = {
  "Civil / Property": [
    "Collect and organize all property documents (sale deed, title, tax receipts).",
    "Issue or reply to a legal notice before filing a case.",
    "Explore mediation with the other party for faster settlement.",
    "File for an injunction if urgent possession protection is needed.",
    "Prepare valuation and dispute amount calculation for court filing."
  ],
  "Criminal / Bail": [
    "Engage a lawyer early to file anticipatory or regular bail.",
    "Ensure supporting documents like medical records, employment proof are ready.",
    "Demonstrate cooperation with the investigation to strengthen your case.",
    "Apply for interim bail in special circumstances (health, family emergencies).",
    "Avoid making public statements that could be used against you."
  ],
  "Family": [
    "Keep marriage certificates, joint asset records, and financial documents organized.",
    "Try mediation/counseling before litigation, courts look favorably on settlement.",
    "File for interim reliefs (maintenance, custody, residence orders) if urgent.",
    "Protect children’s interests — custody and visitation should be carefully planned.",
    "Ensure income, asset disclosures are filed truthfully to avoid penalties."
  ],
  "Corporate / Commercial": [
    "Preserve all contracts, POs, invoices, and communication trails.",
    "Send a legal notice to the defaulting party before litigation.",
    "Consider arbitration/mediation if agreed in the contract.",
    "Conduct due diligence on the opponent’s financial capacity to recover amounts.",
    "File for summary judgment/fast-track recovery where available (like Order 37 CPC)."
  ],
  "Consumer": [
    "Maintain receipts, warranties, and communication with the seller/service provider.",
    "Send a legal notice before approaching the consumer forum.",
    "File complaint in the correct jurisdiction (District/State/National Commission).",
    "Demand refund, replacement, or compensation depending on case strength.",
    "Keep case costs low since consumer courts discourage heavy legal fees."
  ],
  "Insurance": [
    "Keep policy documents, premium receipts, and claim forms handy.",
    "File a complaint with the insurance ombudsman before going to court.",
    "Document the incident with FIR, hospital records, or surveyor reports.",
    "Challenge repudiation/rejection by showing policy terms & compliance.",
    "Escalate to consumer forum if insurer remains non-compliant."
  ],
  "Employment / Labour": [
    "Collect appointment letter, salary slips, and PF/ESI statements.",
    "File grievance with internal redressal/HR before litigation.",
    "Approach labour commissioner or conciliation officer before court.",
    "Claim unpaid wages, compensation, or reinstatement as per contract.",
    "Keep records of emails/messages proving termination or harassment."
  ],
  "Tax / GST": [
    "File replies to notices within statutory deadlines.",
    "Keep books of accounts, invoices, returns updated and accessible.",
    "File appeal within time at the right appellate forum.",
    "Seek rectification for minor errors instead of full litigation.",
    "Consult a tax lawyer/CA for strategy before tribunal/court."
  ]
};

// ---------------- MERIT CALCULATOR ---------------- //
// (keep your existing logic here for computing merit, risks, etc.)

function calculateMerit(caseType, answers) {
  // existing merit calculation (your working one)
  let merit = Math.floor(Math.random() * 100); // (replace with your scoring logic)
  let risks = ["Sample risk factor"]; // (replace with your risk detection logic)

  // now attach suggestions
  let suggestions = SUGGESTION_MAP[caseType] || [];

  return { merit, risks, suggestions };
}

// ---------------- DISPLAY HANDLER ---------------- //
function showResults(caseType, answers) {
  const result = calculateMerit(caseType, answers);

  document.getElementById("meritScore").innerText = result.merit + "%";
  document.getElementById("risksList").innerHTML = result.risks.length
    ? "<ul>" + result.risks.map(r => `<li>${r}</li>`).join("") + "</ul>"
    : "No major risks detected";

  document.getElementById("suggestionsList").innerHTML = result.suggestions.length
    ? "<ul>" + result.suggestions.map(s => `<li>${s}</li>`).join("") + "</ul>"
    : "No suggestions available";
}
</script>

</body>
</html>
